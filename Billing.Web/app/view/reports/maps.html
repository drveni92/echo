<div class="row">
    <h3>Maps</h3>
    <hr>
</div>
<div class="row">
    <div class="col-md-6">
        <div id="map"></div>
    </div>
    <div class="col-md-6">
        <div class="panel panel-default">
            <div class="panel-heading">
                <input type="text" ng-model="selectedItem" placeholder="Search for town" uib-typeahead="searchTown as searchTown.name for searchTown in getTowns($viewValue)"
                    typeahead-wait-ms="500" class="form-control" typeahead-min-length="2" typeahead-no-results="noResults" typeahead-on-select="updateMap(null)">
                <span ng-show="noResults" class="fa fa-info-circle errspan " data-toggle="tooltip1" title="No Results Found"></span>
            </div>
            <div class="panel-body" ng-if="currentTown">
                <dl class="dl-horizontal">
                    <div>
                        <dt>Region:</dt>
                        <dd>{{ currentRegion }} </dd>
                    </div>
                    <div>
                        <dt>Town:</dt>
                        <dd>{{ currentTown }} </dd>
                    </div>
                </dl>
                <hr>
                <table class="table table-striped">
                    <thead>
                        <th>Agent</th>
                        <th>Turnover</th>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in result.agents">
                            <td>{{ item.name }}</td>
                            <td>{{ item.total | currency }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>